<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700">
  <rect width="1000" height="700" fill="#0d1117"/>
  
  <text x="500" y="40" font-family="Arial" font-size="28" font-weight="bold" fill="#f85149" text-anchor="middle">
    Manejo de Excepciones en el Proyecto
  </text>
  
  <!-- Jerarquía -->
  <rect x="50" y="80" width="900" height="180" fill="#161b22" stroke="#f85149" stroke-width="2" rx="8"/>
  <text x="500" y="115" font-family="Arial" font-size="20" font-weight="bold" fill="#f85149" text-anchor="middle">
    Jerarquía de Excepciones del Proyecto
  </text>
  
  <!-- Exception raíz -->
  <rect x="420" y="140" width="160" height="40" fill="#0d1117" stroke="#f85149" stroke-width="2"/>
  <text x="500" y="165" font-family="monospace" font-size="14" font-weight="bold" fill="#f85149" text-anchor="middle">Exception</text>
  
  <!-- Flecha hacia abajo -->
  <line x1="500" y1="180" x2="500" y2="210" stroke="#f85149" stroke-width="2"/>
  <polygon points="500,210 495,200 505,200" fill="#f85149"/>
  
  <!-- Excepciones personalizadas -->
  <rect x="70" y="220" width="200" height="35" fill="#0d1117" stroke="#ff7b72" stroke-width="2"/>
  <text x="170" y="242" font-family="monospace" font-size="11" fill="#ff7b72" text-anchor="middle">ProductoNoEncontrado</text>
  
  <rect x="300" y="220" width="180" height="35" fill="#0d1117" stroke="#ff7b72" stroke-width="2"/>
  <text x="390" y="242" font-family="monospace" font-size="11" fill="#ff7b72" text-anchor="middle">DatoInvalido</text>
  
  <rect x="510" y="220" width="180" height="35" fill="#0d1117" stroke="#ff7b72" stroke-width="2"/>
  <text x="600" y="242" font-family="monospace" font-size="11" fill="#ff7b72" text-anchor="middle">ClienteDuplicado</text>
  
  <rect x="720" y="220" width="200" height="35" fill="#0d1117" stroke="#ff7b72" stroke-width="2"/>
  <text x="820" y="242" font-family="monospace" font-size="11" fill="#ff7b72" text-anchor="middle">StockInsuficiente</text>
  
  <!-- Try-Catch-Finally -->
  <rect x="50" y="290" width="440" height="380" fill="#161b22" stroke="#58a6ff" stroke-width="2" rx="8"/>
  <text x="270" y="325" font-family="Arial" font-size="20" font-weight="bold" fill="#58a6ff" text-anchor="middle">
    Try-Catch-Finally
  </text>
  
  <text x="70" y="360" font-family="monospace" font-size="13" fill="#ff7b72">try</text>
  <text x="105" y="360" font-family="monospace" font-size="13" fill="#c9d1d9"> {</text>
  
  <text x="90" y="385" font-family="monospace" font-size="12" fill="#8b949e">// Código que puede fallar</text>
  <text x="90" y="410" font-family="monospace" font-size="12" fill="#79c0ff">Producto</text>
  <text x="155" y="410" font-family="monospace" font-size="12" fill="#c9d1d9"> p = servicio.buscar(id);</text>
  
  <text x="90" y="435" font-family="monospace" font-size="12" fill="#ff7b72">if</text>
  <text x="115" y="435" font-family="monospace" font-size="12" fill="#c9d1d9"> (p == </text>
  <text x="165" y="435" font-family="monospace" font-size="12" fill="#ff7b72">null</text>
  <text x="205" y="435" font-family="monospace" font-size="12" fill="#c9d1d9">) {</text>
  
  <text x="110" y="460" font-family="monospace" font-size="12" fill="#ff7b72">throw</text>
  <text x="160" y="460" font-family="monospace" font-size="12" fill="#ff7b72"> new</text>
  <text x="195" y="460" font-family="monospace" font-size="12" fill="#f85149"> ProductoNoEncontrado</text>
  <text x="390" y="460" font-family="monospace" font-size="12" fill="#c9d1d9">(id);</text>
  
  <text x="90" y="480" font-family="monospace" font-size="12" fill="#c9d1d9">}</text>
  
  <text x="70" y="510" font-family="monospace" font-size="13" fill="#c9d1d9">} </text>
  <text x="90" y="510" font-family="monospace" font-size="13" fill="#ff7b72">catch</text>
  <text x="135" y="510" font-family="monospace" font-size="13" fill="#c9d1d9"> (</text>
  <text x="150" y="510" font-family="monospace" font-size="13" fill="#f85149">ProductoNoEncontrado</text>
  <text x="335" y="510" font-family="monospace" font-size="13" fill="#c9d1d9"> e) {</text>
  
  <text x="90" y="535" font-family="monospace" font-size="12" fill="#8b949e">// Manejo específico del error</text>
  <text x="90" y="555" font-family="Arial" font-size="12" fill="#c9d1d9">System.out.println(</text>
  <text x="280" y="555" font-family="Arial" font-size="12" fill="#a5d6ff">"Error: "</text>
  <text x="345" y="555" font-family="Arial" font-size="12" fill="#c9d1d9"> + e.getMessage());</text>
  
  <text x="70" y="580" font-family="monospace" font-size="13" fill="#c9d1d9">} </text>
  <text x="90" y="580" font-family="monospace" font-size="13" fill="#ff7b72">finally</text>
  <text x="155" y="580" font-family="monospace" font-size="13" fill="#c9d1d9"> {</text>
  
  <text x="90" y="605" font-family="monospace" font-size="12" fill="#8b949e">// Siempre se ejecuta</text>
  <text x="90" y="625" font-family="monospace" font-size="12" fill="#c9d1d9">scanner.close();</text>
  <text x="240" y="625" font-family="monospace" font-size="12" fill="#8b949e">// Liberar recursos</text>
  
  <text x="70" y="650" font-family="monospace" font-size="13" fill="#c9d1d9">}</text>
  
  <!-- Throw vs Throws -->
  <rect x="520" y="290" width="430" height="190" fill="#161b22" stroke="#d29922" stroke-width="2" rx="8"/>
  <text x="735" y="325" font-family="Arial" font-size="20" font-weight="bold" fill="#d29922" text-anchor="middle">
    Throw vs Throws
  </text>
  
  <text x="540" y="360" font-family="Arial" font-size="16" font-weight="bold" fill="#f85149">throw</text>
  <text x="610" y="360" font-family="Arial" font-size="13" fill="#8b949e">- Lanza la excepción</text>
  
  <text x="540" y="385" font-family="monospace" font-size="12" fill="#ff7b72">if</text>
  <text x="565" y="385" font-family="monospace" font-size="12" fill="#c9d1d9"> (precio &lt; 0) {</text>
  
  <text x="560" y="410" font-family="monospace" font-size="12" fill="#ff7b72">throw</text>
  <text x="610" y="410" font-family="monospace" font-size="12" fill="#ff7b72"> new</text>
  <text x="645" y="410" font-family="monospace" font-size="12" fill="#f85149"> DatoInvalidoException</text>
  <text x="830" y="410" font-family="monospace" font-size="12" fill="#c9d1d9">();</text>
  
  <text x="540" y="430" font-family="monospace" font-size="12" fill="#c9d1d9">}</text>
  
  <line x1="540" y1="445" x2="930" y2="445" stroke="#d29922" stroke-width="1"/>
  
  <text x="540" y="470" font-family="Arial" font-size="16" font-weight="bold" fill="#f85149">throws</text>
  <text x="620" y="470" font-family="Arial" font-size="13" fill="#8b949e">- Declara que puede lanzar</text>
  
  <text x="540" y="495" font-family="monospace" font-size="12" fill="#ff7b72">public</text>
  <text x="595" y="495" font-family="monospace" font-size="12" fill="#ff7b72"> void</text>
  <text x="635" y="495" font-family="monospace" font-size="12" fill="#d2a8ff"> agregar</text>
  <text x="705" y="495" font-family="monospace" font-size="12" fill="#c9d1d9">() </text>
  <text x="730" y="495" font-family="monospace" font-size="12" fill="#ff7b72">throws</text>
  <text x="795" y="495" font-family="monospace" font-size="12" fill="#f85149"> DatoInvalido</text>
  <text x="900" y="495" font-family="monospace" font-size="12" fill="#c9d1d9"> {</text>
  
  <text x="560" y="520" font-family="monospace" font-size="12" fill="#8b949e">// Método que puede lanzar excepción</text>
  
  <text x="540" y="540" font-family="monospace" font-size="12" fill="#c9d1d9">}</text>
  
  <!-- Excepciones Personalizadas -->
  <rect x="520" y="510" width="430" height="160" fill="#161b22" stroke="#d2a8ff" stroke-width="2" rx="8"/>
  <text x="735" y="545" font-family="Arial" font-size="20" font-weight="bold" fill="#d2a8ff" text-anchor="middle">
    Crear Excepción Personalizada
  </text>
  
  <text x="540" y="575" font-family="monospace" font-size="12" fill="#ff7b72">public class</text>
  <text x="635" y="575" font-family="monospace" font-size="12" fill="#f85149"> ProductoNoEncontradoException</text>
  
  <text x="575" y="595" font-family="monospace" font-size="12" fill="#ff7b72">extends</text>
  <text x="640" y="595" font-family="monospace" font-size="12" fill="#f85149"> Exception</text>
  <text x="715" y="595" font-family="monospace" font-size="12" fill="#c9d1d9"> {</text>
  
  <text x="560" y="620" font-family="monospace" font-size="12" fill="#ff7b72">public</text>
  <text x="615" y="620" font-family="monospace" font-size="12" fill="#d2a8ff"> ProductoNoEncontradoException</text>
  <text x="860" y="620" font-family="monospace" font-size="12" fill="#c9d1d9">(</text>
  <text x="870" y="620" font-family="monospace" font-size="12" fill="#79c0ff">String</text>
  <text x="925" y="620" font-family="monospace" font-size="12" fill="#c9d1d9"> msg) {</text>
  
  <text x="580" y="640" font-family="monospace" font-size="12" fill="#ff7b72">super</text>
  <text x="625" y="640" font-family="monospace" font-size="12" fill="#c9d1d9">(msg);</text>
  
  <text x="560" y="655" font-family="monospace" font-size="12" fill="#c9d1d9">}</text>
  <text x="540" y="670" font-family="monospace" font-size="12" fill="#c9d1d9">}</text>
</svg>
